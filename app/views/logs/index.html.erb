<h1>Listing logs</h1>

<table>
  <tr>
    <th>Table name</th>
    <th>User</th>
    <th>Created at</th>
    <th>Changes</th>
  </tr>

<% @logs.each do |log| %>
  <tr>
    <td><%= log.table_name %></td>
    <td><%= log.user %></td>
    <td><%= log.created_at %></td>
    <td>
      <table>
	<tr>
	  <th><%= t('logs.field') %></th>
	  <th><%= t('logs.before') %></th>
	  <th><%= t('logs.after') %></th>
	</tr>
	<% log.changes.each do |change| %>
	<tr>
	  <td><%= change[:field] %></td>
	  <td><%= change[:before] || "<no value set>" %></td>
	  <td><%= change[:after] || "<no value set>" %></td>
	</tr>
	<% end %>
      </table>
    </td>
  </tr>
  <% end %>
</table>

<br />

